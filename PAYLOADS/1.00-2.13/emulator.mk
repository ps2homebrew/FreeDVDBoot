# TODO: try to run original DVD players in the pcsx2 (with balika's magicgate support), not the krHACKen ones
TEMP1 = '\x48\x00\x00\x00'
TEMP2 = '\x00\x40\x00\x00'
TEMP3 = '\x48\x75\x0B\x00'

ISO_NAME = dvd_pcsx2.iso

STAGE1_LOAD_ADDRESS_110 = 0xA00B66A8
STAGE1_LOAD_ADDRESS_STRING_110 = '\xa8\x66\x0b\xa0'

STAGE1_LOAD_ADDRESS_210_212 = 0xA00B7548
STAGE1_LOAD_ADDRESS_STRING_210_212 = '\x48\x75\x0b\xa0'

STAGE1_LOAD_ADDRESS_213 = 0xA00B6FC8
STAGE1_LOAD_ADDRESS_STRING_213 = '\xc8\x6f\x0b\xa0'

STAGE1_ISO_210_212 = 532728 # 0x820F8
STAGE1_ISO_213 = 534136     # 0x82678

IOP_READ_SECTORS_110 = 0xB19E4
IOP_READ_SECTORS_210 = 0xB260C
IOP_READ_SECTORS_212 = 0xB25F8
IOP_READ_SECTORS_213 = 0xB21F8
IOP_ORIGINAL_RETURN_ADDRESS_210 = 0xB3630
IOP_ORIGINAL_RETURN_ADDRESS_212 = 0xB35D8
IOP_ORIGINAL_RETURN_ADDRESS_213 = 0xB31EC
IOP_RETURN_ADDRESS_LOCATION_210 = 0x1F62AC
IOP_RETURN_ADDRESS_LOCATION_212 = 0x1F62B4
IOP_RETURN_ADDRESS_LOCATION_213 = 0x1F62B4


# IOP_PAYLOAD_ENTRY = `$(IOP_OBJDUMP) -t ioppayload.iop.elf | grep " _start"`
IOP_PAYLOAD_ENTRY = 0xA00FD178 # Set this manually for now.

IOP_PAYLOAD_ADDRESS = 0xA00FD000

EE_PAYLOAD_ADDRESS = 0x01FFF800

# isoinfo -l -i dvd.iso | grep "BOOT.ELF"
# var=`isoinfo -l -i dvd.iso | grep "BOOT.ELF" | grep -o -P "[0-9]*? -"`
# LOAD_ELF_FROM_OFFSET =
# LOAD_ELF_FROM_OFFSET = `isoinfo -l -i $(ISO_NAME) | grep BOOT.ELF | awk '{print $10*2048}'`
LOAD_ELF_FROM_OFFSET = 0x5BB000 # Set this manually for now TODO: check why it doesnt work

include Mainrules.mk
